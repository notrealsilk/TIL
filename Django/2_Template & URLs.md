# Template System

## Django Template System

데이터 **표현**을 제어하면서 **표현**과 관련된 부분을 담당

>> **사용자에게 보여지는 부분 =  표현**을 담당

## Django Template Language (DTL)

Template(=html)에서 조건, 반복, 변수 등의 프로그래밍적 기능을 제공

---

### 1. Variable

**rander 함수의 세번째 인자**로 **딕셔너리** 데이터를 사용

딕셔너리 key에 해당하는 문자열이 template에서 사용 가능한 변수명이 됨.. 즉, 딕셔너리의 키값으로 접근해서 값을 출력

dot `.`를 사용해서 변수 속성에 접근


### 2. Filters

표시할 변수를 수정할 때 사용 `변수 | 필터` ..필터는 계속 이어서 쓸 수 있음

chanined이 가능하며 일부 필터는 인자를 받기도 함

약 60개의 built in template filter를 제공


### 3. Tags

반복, 논리를 수행하여 제어 흐름을 만듦.. 출력은 안됨

일부 태그는 시작, 종료 태그가 필요

약 24개의 built in template tags를 제공

`%` 사용


### 4. Comments

주석

`{# #}` : 단일 주석

`{% %}` : 여러줄 주석


# 템플릿 상속

**페이지의 공통요소를 포함**하고, **하위 템플릿이 재정의 할 수 있는 공간을 정의**하는 기본 (skeleton)템플릿=상위 템플릿을 작성하여 상속 구조를 구축

예)) 만약 모든 템플릿에 부트스트랩을 적용하려면 cdn을 적용해야하는데, 일일이 모든 템플릿에 부트스트랩 cdn을 작성해야하나..?

>> 템플릿 상속으로 해결!

## 상속 관련 DTL 태그

`extends`

자식 템플릿이 부모 템플릿을 확장한다는 것을 알림 (상속을 받겠다는 의미)

: 자식 쪽에 작성

: 반드시 자식 템플릿 최상단에 작성되어야 함 (2개 이상 사용 불가)

---

`block`

하위 템플릿에서 재정의 할 수 있는 블록을 정의 

name 블록을 가지고 있는 쪽에 상속을 하겠다~~ (block이 하나의 부모 템플릿에 여러 개 올 수 있으므로 이름을 지정하는 것)

: 부모 쪽에 작성

(상위 템플릿에 작성하며 하위 템플릿이 작성할 수 있는 공간을 지정하는 것)

---

>> extent  한 줄로 부모 템플릿을 가져옴


# HTML Form

데이터를 보내고 가져오기 (=요청, 응답) / 사용자와 앱 간의 상호작용 이해하기

HTTP 요청을 서버에 보내는 가장 편리, 안전한 방법

예)) 웹사이트 검색창, 로그인

## 요청과 응답

`form` element

: 사용자로부터 할당된 데이터를 서버로 전송

>> 웹에서 사용자 정보를 입력하는 여러 방식 (text, password, checkbox 등)을 제공



- form의 핵심 속성

`action & method`

: 데이터를 어디(action)로 어떤 방식(method)으로 요청할지


`input` element

: 사용자의 데이터를 입력받을 수 있는 요소

(type 속성값에 따라 다양한 유형의 입력 데이터를 받음)


: 대표적인 예 → `name` attribute (속성)

## form 활용

1. throw 로직 작성

2. catch 로직 작성

: HTTP request 객체를 사용해서 페이지에서 요청한 사용자 입력 데이터를 가져올 수 ㅇ

3. catsh 로직 마무리

### HTTP request 객체

form으로 전송한 데이터, Django로 들어오는 모든 요청 관련 데이터가 담겨 있음

(view 함수의 첫번째 인자로 전달됨)


: **GET이 중요!**

: []안에 있는 객체를 사용해서 백엔드 서버 구성할 수 ㅇ

# Django URLs

### URL dispatcher

(운항 관리자, 분배기)

URL 패턴을 정의하고 해당 패턴이 일치하는 요청을 처리할 view 함수를 연결(=매핑)

## Variable Routing

URL 일부에 변수를 포함시키는 것

(변수는 view 함수의 인자로 전달 가능)


>> 중복되는 이후 부분을 `변수화` 하기

---

## Path converters

URL 변수의 타입을 지정

## APP URL mapping

각 앱에 URL을 정의

>> 프로젝트와 각 앱이 URL을 나누어 관리를 편하게 하기 위함

>> 프로젝트에서 url을 다 관리하면 두번 째 앱이 생겼을 때, 이름이 겹치므로 문제 ㅇ

<aside>
💡

urlpatterns = []가 비어있더라도 **빈 채로 만들어놔야함** (약속)

</aside>


# URL 이름 지정


>> name = `index` 가 핵심!

## Naming URL patterns

URL에 이름을 지정하는 것

(path 함수의 name 인자를 정의해서 사용)

- path 함수의 name 키워드 인자를 정의
- URL 표기 변화

## DTL URL tag

`url` tag

: 주어진 URL 패턴의 이름과 일치하는 절대 경로 주소를 반환

## app_name 속성

app_name 변수 값 설정

## 추가 템플릿 경로

템플릿 기본 경로 외 커스텀 경로 추가 > 새로운 템플릿 경로 생성 > 각 하위 템플릿에서 extends 경로가 수정됨


### BASE_DIR

settings 에서 경로지정을 편하게 하기 위해 최상단 지점을 지정해 둔 변수
